# 1874 : 스택 수열



## Link

https://www.acmicpc.net/problem/1874



## Code

```java
import java.io.BufferedReader;
import java.io.BufferedWriter;
import java.io.InputStreamReader;
import java.io.OutputStreamWriter;
import java.util.*;

public class Main {
    public void solution() throws Exception {
        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
        BufferedWriter bw = new BufferedWriter(new OutputStreamWriter(System.out));

        int n = Integer.parseInt(br.readLine());

        Stack<Integer> stack = new Stack<>();
        int now = 0;
        StringBuilder ans = new StringBuilder();

        for (int i=0; i<n; i++) {
            int num = Integer.parseInt(br.readLine());

            if (now < num) {
                for (int j=now+1; j<=num; j++) {
                    stack.push(j);
                    ans = ans.append("+\n");
                }
                now = num;
            }

            if (stack.pop().equals(num)) {
                ans = ans.append("-\n");
            } else {
                ans.replace(0, ans.length(),"NO");
                break;
            }
        }

        bw.write(String.valueOf(ans));
        bw.flush();
        br.close();
        bw.close();
    }

    public static void main(String[] args) throws Exception {
        new Main().solution();
    }
}
```



## Idea

String 메모리 초과

String 객체는 immutable(불변)

한 번 생성되면 할당된 메모리 공간이 변하지 않고 계속 유지됨

위 코드의 ans 변수를 String으로 선언하고 concat으로 문자열을 추가하면 가존 String 객체 주소에 추가되는 것이 아니라 새로운 String 객체를 만들고 문자열을 저장해 객체를 참조함

따라서, 메모리를 많이 잡아먹음



이런 경우엔 String이 아니라 StringBuilder를 사용해야 함

